{"ast":null,"code":"var _jsxFileName = \"/home/general/Escritorio/Front_stafko/src/Components/Proyectos/Main.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useSWR } from \"swr\";\nimport Swal from 'sweetalert2';\nimport ProyectoCard from \"./ProyectoCard\";\nimport ProyectoForm from \"./ProyectoForm\";\nimport \"./Main.css\";\nimport { FaPlus } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Main = () => {\n  _s();\n  const {\n    data: proyectos,\n    error\n  } = useSWR(\"/projects\");\n  const {\n    register,\n    handleSubmit,\n    errors,\n    reset\n  } = useForm();\n  const handleCrearProyecto = data => {\n    // Enviar datos a la API para crear un nuevo proyecto\n    fetch(\"/projects\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(response => {\n      if (response.ok) {\n        Swal.fire({\n          title: 'Proyecto creado',\n          text: 'El proyecto ha sido creado exitosamente.',\n          icon: 'success',\n          confirmButtonText: 'Aceptar'\n        });\n        // Actualizar la lista de proyectos\n        mutate(\"/projects\");\n        reset();\n      } else {\n        throw new Error(\"Error al crear el proyecto: \" + response.statusText);\n      }\n    }).catch(error => {\n      console.error(\"Error al comunicarse con el servidor:\", error);\n      Swal.fire({\n        title: 'Error',\n        text: 'Hubo un problema al crear el proyecto. Por favor, intenta nuevamente m치s tarde.',\n        icon: 'error',\n        confirmButtonText: 'Aceptar'\n      });\n    });\n  };\n  const handleEliminarProyecto = async proyectoId => {\n    // Enviar solicitud a la API para eliminar el proyecto\n    await fetch(`/projects/${proyectoId}`, {\n      method: \"DELETE\"\n    }).then(response => {\n      if (response.ok) {\n        Swal.fire({\n          title: 'Proyecto eliminado',\n          text: 'El proyecto ha sido eliminado exitosamente.',\n          icon: 'success',\n          confirmButtonText: 'Aceptar'\n        });\n        // Eliminar el proyecto de la lista\n        mutate(\"/projects\", proyectos => proyectos.filter(proyecto => proyecto.id !== proyectoId));\n      } else {\n        throw new Error(\"Error al eliminar el proyecto: \" + response.statusText);\n      }\n    }).catch(error => {\n      console.error(\"Error al comunicarse con el servidor:\", error);\n      Swal.fire({\n        title: 'Error',\n        text: 'Hubo un problema al eliminar el proyecto. Por favor, intenta nuevamente m치s tarde.',\n        icon: 'error',\n        confirmButtonText: 'Aceptar'\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Proyectos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"crear-proyecto-btn\",\n        onClick: handleSubmit(handleCrearProyecto),\n        children: [/*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), \" Crear Proyecto\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Error al cargar los proyectos: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }, this), proyectos && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"proyectos-lista\",\n      children: proyectos.map(proyecto => /*#__PURE__*/_jsxDEV(ProyectoCard, {\n        proyecto: proyecto,\n        onDelete: handleEliminarProyecto\n      }, proyecto.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ProyectoForm, {\n      register: register,\n      handleSubmit: handleSubmit,\n      errors: errors,\n      reset: reset\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(Main, \"vn+hrOEmAzikeqnoJ3m0I06JsJg=\", false, function () {\n  return [useSWR, useForm];\n});\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","useForm","useSWR","Swal","ProyectoCard","ProyectoForm","FaPlus","jsxDEV","_jsxDEV","Main","_s","data","proyectos","error","register","handleSubmit","errors","reset","handleCrearProyecto","fetch","method","headers","body","JSON","stringify","then","response","ok","fire","title","text","icon","confirmButtonText","mutate","Error","statusText","catch","console","handleEliminarProyecto","proyectoId","filter","proyecto","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","message","map","onDelete","_c","$RefreshReg$"],"sources":["/home/general/Escritorio/Front_stafko/src/Components/Proyectos/Main.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useSWR } from \"swr\";\nimport Swal from 'sweetalert2';\nimport ProyectoCard from \"./ProyectoCard\";\nimport ProyectoForm from \"./ProyectoForm\";\nimport \"./Main.css\";\nimport { FaPlus } from \"react-icons/fa\";\n\nconst Main = () => {\n  const { data: proyectos, error } = useSWR(\"/projects\");\n  const { register, handleSubmit, errors, reset } = useForm();\n\n  const handleCrearProyecto = (data) => {\n    // Enviar datos a la API para crear un nuevo proyecto\n    fetch(\"/projects\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    }).then((response) => {\n      if (response.ok) {\n        Swal.fire({\n          title: 'Proyecto creado',\n          text: 'El proyecto ha sido creado exitosamente.',\n          icon: 'success',\n          confirmButtonText: 'Aceptar'\n        });\n        // Actualizar la lista de proyectos\n        mutate(\"/projects\");\n        reset();\n      } else {\n        throw new Error(\"Error al crear el proyecto: \" + response.statusText);\n      }\n    }).catch((error) => {\n      console.error(\"Error al comunicarse con el servidor:\", error);\n      Swal.fire({\n        title: 'Error',\n        text: 'Hubo un problema al crear el proyecto. Por favor, intenta nuevamente m치s tarde.',\n        icon: 'error',\n        confirmButtonText: 'Aceptar'\n      });\n    });\n  };\n\n  const handleEliminarProyecto = async (proyectoId) => {\n    // Enviar solicitud a la API para eliminar el proyecto\n    await fetch(`/projects/${proyectoId}`, {\n      method: \"DELETE\"\n    }).then((response) => {\n      if (response.ok) {\n        Swal.fire({\n          title: 'Proyecto eliminado',\n          text: 'El proyecto ha sido eliminado exitosamente.',\n          icon: 'success',\n          confirmButtonText: 'Aceptar'\n        });\n        // Eliminar el proyecto de la lista\n        mutate(\"/projects\", proyectos => proyectos.filter(proyecto => proyecto.id !== proyectoId));\n      } else {\n        throw new Error(\"Error al eliminar el proyecto: \" + response.statusText);\n      }\n    }).catch((error) => {\n      console.error(\"Error al comunicarse con el servidor:\", error);\n      Swal.fire({\n        title: 'Error',\n        text: 'Hubo un problema al eliminar el proyecto. Por favor, intenta nuevamente m치s tarde.',\n        icon: 'error',\n        confirmButtonText: 'Aceptar'\n      });\n    });\n  };\n\n  return (\n    <div className=\"main-container\">\n      <header className=\"header\">\n        <h2>Proyectos</h2>\n        <button className=\"crear-proyecto-btn\" onClick={handleSubmit(handleCrearProyecto)}>\n          <FaPlus /> Crear Proyecto\n        </button>\n      </header>\n\n      {error && <p>Error al cargar los proyectos: {error.message}</p>}\n\n      {proyectos && (\n        <ul className=\"proyectos-lista\">\n          {proyectos.map((proyecto) => (\n            <ProyectoCard key={proyecto.id} proyecto={proyecto} onDelete={handleEliminarProyecto} />\n          ))}\n        </ul>\n      )}\n\n      <ProyectoForm \n        register={register}\n        handleSubmit={handleSubmit}\n        errors={errors}\n        reset={reset}\n      />\n    </div>\n  );\n};\n\nexport default Main;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}