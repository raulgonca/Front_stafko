{"ast":null,"code":"var _jsxFileName = \"/home/general/Escritorio/Front_stafko/src/Components/Proyectos/Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useQuery, useMutation, QueryClient, QueryClientProvider } from 'react-query';\nimport { Table } from 'primereact/table';\nimport { Button } from 'primereact/button';\nimport { confirmDialog } from 'primereact/confirmdialog';\nimport { Toast } from 'primereact/toast';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst queryClient = new QueryClient();\nconst Dashboard = () => {\n  _s();\n  const [proyectos, setProyectos] = useState([]);\n  const {\n    data,\n    isLoading,\n    error\n  } = useQuery('data', () => fetchProjects(), {\n    enabled: true\n  });\n  useEffect(() => {\n    fetchProjects();\n  }, []);\n  const fetchProjects = async () => {\n    try {\n      const response = await fetch(\"http://localhost:3000/projects/\");\n      if (response.ok) {\n        const data = await response.json();\n        setProyectos(data);\n      } else {\n        console.error(\"Error al obtener los proyectos:\", response.statusText);\n      }\n    } catch (error) {\n      console.error(\"Error al comunicarse con el servidor:\", error);\n    }\n  };\n  const deleteItem = useMutation(deleteData, {\n    onSuccess: () => {\n      queryClient.invalidateQueries('data');\n      toast.current.show({\n        severity: 'success',\n        summary: 'Success',\n        detail: 'Item deleted successfully'\n      });\n    },\n    onError: () => {\n      toast.current.show({\n        severity: 'error',\n        summary: 'Error',\n        detail: 'Failed to delete item'\n      });\n    }\n  });\n  const confirmDelete = id => {\n    confirmDialog({\n      message: 'Are you sure you want to delete this item?',\n      header: 'Delete Confirmation',\n      icon: 'pi pi-info-circle',\n      accept: () => {\n        deleteItem.mutate(id);\n      },\n      reject: () => {}\n    });\n  };\n  const editItem = id => {\n    // Aquí puedes agregar la lógica para editar un elemento\n    console.log(\"Editando elemento con id:\", id);\n  };\n  const toast = useRef(null);\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 27\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Error: \", error.message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 23\n  }, this);\n  const columns = [{\n    field: 'id',\n    header: 'ID'\n  }, {\n    field: 'name',\n    header: 'Name'\n  }, {\n    field: 'description',\n    header: 'Description'\n  }, {\n    field: 'actions',\n    header: 'Actions',\n    body: actionTemplate\n  }];\n  function actionTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        label: \"Edit\",\n        icon: \"pi pi-pencil\",\n        className: \"p-button-rounded p-button-info\",\n        onClick: () => editItem(rowData.id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        label: \"Delete\",\n        icon: \"pi pi-trash\",\n        className: \"p-button-rounded p-button-danger\",\n        onClick: () => confirmDelete(rowData.id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Toast, {\n      ref: toast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      value: data,\n      header: \"Projects\",\n      className: \"p-datatable-striped\",\n      children: columns.map(col => /*#__PURE__*/_jsxDEV(Column, {\n        field: col.field,\n        header: col.header,\n        body: col.body\n      }, col.field, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n};\n_s(Dashboard, \"qlyF/Cmpc5FZ0jeTrtZkRfRfj0I=\", false, function () {\n  return [useQuery, useMutation];\n});\n_c = Dashboard;\nexport default function App() {\n  return /*#__PURE__*/_jsxDEV(QueryClientProvider, {\n    client: queryClient,\n    children: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n}\n_c2 = App;\nasync function deleteData(proyectoId) {\n  try {\n    const response = await fetch(`http://localhost:3000/projects/${proyectoId}`, {\n      method: \"DELETE\"\n    });\n    if (response.ok) {\n      Swal.fire({\n        title: 'Proyecto eliminado',\n        text: 'El proyecto ha sido eliminado exitosamente.',\n        icon: 'success',\n        confirmButtonText: 'Aceptar'\n      });\n    } else {\n      console.error(\"Error al eliminar el proyecto:\", response.statusText);\n    }\n  } catch (error) {\n    console.error(\"Error al comunicarse con el servidor:\", error);\n  }\n}\nvar _c, _c2;\n$RefreshReg$(_c, \"Dashboard\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useQuery","useMutation","QueryClient","QueryClientProvider","Table","Button","confirmDialog","Toast","Swal","jsxDEV","_jsxDEV","queryClient","Dashboard","_s","proyectos","setProyectos","data","isLoading","error","fetchProjects","enabled","response","fetch","ok","json","console","statusText","deleteItem","deleteData","onSuccess","invalidateQueries","toast","current","show","severity","summary","detail","onError","confirmDelete","id","message","header","icon","accept","mutate","reject","editItem","log","children","fileName","_jsxFileName","lineNumber","columnNumber","columns","field","body","actionTemplate","rowData","label","className","onClick","ref","value","map","col","Column","_c","App","client","_c2","proyectoId","method","fire","title","text","confirmButtonText","$RefreshReg$"],"sources":["/home/general/Escritorio/Front_stafko/src/Components/Proyectos/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useQuery, useMutation, QueryClient, QueryClientProvider } from 'react-query';\nimport { Table } from 'primereact/table';\nimport { Button } from 'primereact/button';\nimport { confirmDialog } from 'primereact/confirmdialog';\nimport { Toast } from 'primereact/toast';\nimport Swal from 'sweetalert2';\n\nconst queryClient = new QueryClient();\n\nconst Dashboard = () => {\n    const [proyectos, setProyectos] = useState([]);\n    const { data, isLoading, error } = useQuery('data', () => fetchProjects(), {\n        enabled: true,\n    });\n\n    useEffect(() => {\n        fetchProjects();\n    }, []);\n\n    const fetchProjects = async () => {\n        try {\n            const response = await fetch(\"http://localhost:3000/projects/\");\n            if (response.ok) {\n                const data = await response.json();\n                setProyectos(data);\n            } else {\n                console.error(\"Error al obtener los proyectos:\", response.statusText);\n            }\n        } catch (error) {\n            console.error(\"Error al comunicarse con el servidor:\", error);\n        }\n    };\n\n    const deleteItem = useMutation(deleteData, {\n        onSuccess: () => {\n            queryClient.invalidateQueries('data');\n            toast.current.show({ severity: 'success', summary: 'Success', detail: 'Item deleted successfully' });\n        },\n        onError: () => {\n            toast.current.show({ severity: 'error', summary: 'Error', detail: 'Failed to delete item' });\n        },\n    });\n\n    const confirmDelete = (id) => {\n        confirmDialog({\n            message: 'Are you sure you want to delete this item?',\n            header: 'Delete Confirmation',\n            icon: 'pi pi-info-circle',\n            accept: () => {\n                deleteItem.mutate(id);\n            },\n            reject: () => {},\n        });\n    };\n\n    const editItem = (id) => {\n        // Aquí puedes agregar la lógica para editar un elemento\n        console.log(\"Editando elemento con id:\", id);\n    };\n\n    const toast = useRef(null);\n\n    if (isLoading) return <div>Loading...</div>;\n    if (error) return <div>Error: {error.message}</div>;\n\n    const columns = [\n        { field: 'id', header: 'ID' },\n        { field: 'name', header: 'Name' },\n        { field: 'description', header: 'Description' },\n        { field: 'actions', header: 'Actions', body: actionTemplate },\n    ];\n\n    function actionTemplate(rowData) {\n        return (\n            <div>\n                <Button label=\"Edit\" icon=\"pi pi-pencil\" className=\"p-button-rounded p-button-info\" onClick={() => editItem(rowData.id)} />\n                <Button label=\"Delete\" icon=\"pi pi-trash\" className=\"p-button-rounded p-button-danger\" onClick={() => confirmDelete(rowData.id)} />\n            </div>\n        );\n    }\n\n    return (\n        <div>\n            <Toast ref={toast} />\n            <Table value={data} header=\"Projects\" className=\"p-datatable-striped\">\n                {columns.map((col) => (\n                    <Column key={col.field} field={col.field} header={col.header} body={col.body} />\n                ))}\n            </Table>\n        </div>\n    );\n};\n\nexport default function App() {\n    return (\n        <QueryClientProvider client={queryClient}>\n            <Dashboard />\n        </QueryClientProvider>\n    );\n}\n\nasync function deleteData(proyectoId) {\n    try {\n        const response = await fetch(`http://localhost:3000/projects/${proyectoId}`, {\n            method: \"DELETE\"\n        });\n        if (response.ok) {\n            Swal.fire({\n                title: 'Proyecto eliminado',\n                text: 'El proyecto ha sido eliminado exitosamente.',\n                icon: 'success',\n                confirmButtonText: 'Aceptar'\n            });\n        } else {\n            console.error(\"Error al eliminar el proyecto:\", response.statusText);\n        }\n    } catch (error) {\n        console.error(\"Error al comunicarse con el servidor:\", error);\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}